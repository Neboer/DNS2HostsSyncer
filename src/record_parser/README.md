# Record Parser

解析器支持解析如下DNS解析记录：
A
AAAA
CNAME
NS

由于Hosts File不支持通配符，因此含有通配符的记录一律不会被解析，当然我们会尽量遵守通配符记录。
Hosts File不支持多解析，虽然多个解析记录不会引起错误但只有第一个会生效。因此遇到一个域名对应多个DNS记录的情况，我们会报错。

实际解析器的解析顺序如下：
A+AAAA -> CNAME -> NS

遇到复杂情况，如果NS记录提供了CNAME解析的地址，该怎么办?
这个时候可以用“pending resolve”的策略。

## 面对重复


## Pending Resolve

接下来的问题非常有趣。应该具体如何完成这个复杂的解析任务？

将所有A/AAAA记录记录下来 -> 遇到某个CNAME/NS记录 -> 发现CNAME/NS记录指向的域名属于zone
    -> 尝试在已记录的A/AAAA记录中查找对应域名，如果找到则正常进行解析流程（CNAME直接解析到目标地址；如果是NS的话，看是否为通配符域名。
        如果不是通配符域名，则直接向目标NS服务器查询此域名的地址，将此域名的地址记录下来。
        如果是通配符域名，则让解析器知道，所有符合条件的域名都要向NS发起解析。
    如果NS查询的结果是CNAME，属于zone？
